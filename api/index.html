<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>API docs</title>
    <meta name="description" content="api reference">
    <link rel="shortcut icon" href="/img/stariconv2.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="custom.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">  
    <style>
        @font-face {
            font-family: "Inconsolata";
            src: url(../fonts/Inconsolata.ttf);
        }

        body {
            font-size: 1.1em
        }
        
        code {
            color: black;
            font-family: "Inconsolata", monospace;
            background-color: #f6f6f6;
            border: 1px solid #ddd;
            padding: 10px;
            cursor: pointer;
        }

        .code_block {
            padding: 10px;
            white-space: pre-wrap;
            background-color: #f6f6f6;
            border: 1px solid #ddd;
            overflow-x: auto;
        }

        pre code {
            display: block;
            background: none;
            white-space: pre-wrap;
            -webkit-overflow-scrolling: touch;
            overflow-x: scroll;
            max-width: 50%;
            min-width: 100px;
            padding: 0;
        }
    </style>
</head>
  <body> 
    <h1>API Reference Docs</h1>
    <p>
        Always call <a href="/api">jasoncheng.me/api</a> in your HTTP request. Only POST requests are permitted.<br><br>
        This API is meant as a quick learning exercise for myself and are thus subject to Cloudflare Workers free tier rate limits.
    </p>
    <h2>
        Endpoints
    </h1>
    <p>
        All endpoints return serialized JSON objects. Specify request type through the "query" header. The allowed "query" values are:
    </p>
    <ul>
        <li>
            helloworld
            <ul>
                Testing endpoint. Returns Hello World.
            </ul>
        </li>
        <li>
            linalg
            <ul>
                Returns lastFinishedChapter, lastRevisionDate, changeMessage for my public Linear Algebra guidebook.
            </ul>
        </li>
        <li>
            resume
            <ul>
                Returns my resume.
            </ul>
        </li>
        <li>
            spotify
            <ul>
                Work in Progress.
            </ul>
        </li>
    </ul>
    <h2>Quickstart</h2>
    <p>Click a code block to copy its contents.</p>
    <h3>Shell</h3>
    <p>
        <code>curl jasoncheng.me/api -X POST -H "query: helloworld"</code>
    </p>
    <h3>
        Python
    </h3>
    <pre><code class="code_block">import requests

url = "jasoncheng.me/api"
params = {
	"query": "helloworld"
}

response = requests.post(url, params=params)</pre></code>


    <script>
        const codeBlocks = document.querySelectorAll("code");
        codeBlocks.forEach(codeBlock => {
            codeBlock.addEventListener("click", function() {
                const codeText = this.textContent; // Use textContent to preserve line breaks

                const tempTextArea = document.createElement("textarea");
                tempTextArea.value = codeText;
                document.body.appendChild(tempTextArea);

                tempTextArea.select();
                tempTextArea.setSelectionRange(0, 99999); // For mobile devices

                document.execCommand("copy");

                document.body.removeChild(tempTextArea);

                alert("Code copied to clipboard.");
            });
        });
    </script>
  </body>
</html>